const mongoose = require("mongoose");
const modelName = "chips";

/**
 * @type {Model.ChipModel}
 */
const Schema = new mongoose.Schema({
  label: String,
  value: Number,
  enabled: { type: Boolean, default: false },
  theme: {},
});

/**
 * @type {Model.ChipRepository}
 */
const chipRepository = mongoose.models[modelName] ?? mongoose.model(modelName, Schema);

chipRepository.getAll = () => chipRepository.find({ enabled: true }, "-__v -time -enabled").sort({ value: 1 }).lean().exec();

module.exports = chipRepository;
