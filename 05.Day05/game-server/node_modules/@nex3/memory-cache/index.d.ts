declare module "@nex3/memory-cache" {
  export interface PutCacheOptions {
    timeout: number;
    timeoutCallback: (key: string | number, value: any) => void;
  }

  export interface StorageValue {
    value: any;
    timeout: number;
    expire: number;
  }

  export interface Cache {
    storage: Record<string | number, StorageValue>;

    put(key: string | number, value: any, options?: PutCacheOptions): void;
    get(key: string | number): any;
    del(key: string | number);
  }

  interface MemoryCacheStatic {
    instance: Cache;

    getValue<T>(key: string | number, getFromOtherResource: () => Promise<T>, options?: PutCacheOptions): Promise<T>;
  }

  declare const memoryCache: MemoryCacheStatic;

  export default memoryCache;
}
